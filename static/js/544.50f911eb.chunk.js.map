{"version":3,"file":"static/js/544.50f911eb.chunk.js","mappings":"6PAEaA,E,QAAkBC,EAAAA,OAAH,6f,SCCfC,EAAY,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,KACnC,OACE,UAACJ,EAAD,CAAiBK,KAAK,SAASF,QAASA,EAAxC,UACGC,EAAM,KACP,gBAAKE,MAAM,KAAKC,OAAO,KAAKC,KAAK,OAAjC,UACE,gBAAKC,KAAI,UAAKC,EAAAA,EAAL,2BAIhB,E,UCuGD,MA7FA,WACE,OAAwBC,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA8BF,EAAAA,EAAAA,UAAS,MAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAcC,EAAAA,EAAAA,IAAe,CACjCC,UAAW,SAAAC,GACTR,EAAQQ,EACT,EACDC,QAAS,SAAAC,GAAK,OAAIC,QAAQC,IAAI,gBAAiBF,EAAjC,IAiDhB,OAzCAG,EAAAA,EAAAA,YAAU,WACJd,GACFe,EAAAA,EAAAA,IAAA,qEAEkEf,EAAKgB,cACnE,CACEC,QAAS,CACPC,cAAc,UAAD,OAAYlB,EAAKgB,cAC9BG,OAAQ,sBAKbC,MAAK,SAAAC,GACJlB,EAAWkB,EAAIC,MACfV,QAAQC,IAAIQ,EAAIC,KAAKC,OAErBnB,GACEoB,EAAAA,EAAAA,IAAS,CACPC,SAAUJ,EAAIC,KAAKI,KACnBH,MAAOF,EAAIC,KAAKC,MAChBI,SAAS,GAAD,OAAKN,EAAIC,KAAKM,GAAd,eAIZC,YACE,kBACEzB,GACE0B,EAAAA,EAAAA,IAAM,CACJP,MAAOF,EAAIC,KAAKC,MAChBI,SAAS,GAAD,OAAKN,EAAIC,KAAKM,GAAd,cAJd,GAOA,IAEH,IACAG,OAAM,SAAAC,GAAG,OAAIpB,QAAQC,IAAImB,EAAhB,GAGf,GAAE,CAAChC,KAGF,SAAC,KAAD,WACE,UAAC,KAAD,YACE,SAAC,KAAD,KACA,UAAC,KAAD,YACE,SAAC,KAAD,WACE,gBAAKH,KAAI,UAAKoC,EAAAA,EAAL,mBAEX,SAAC,KAAD,2BAEF,SAAC,KAAD,wIAIA,UAAC,KAAD,YACE,SAAC,KAAD,CAAWC,GAAG,gBAAd,2BACA,SAAC,KAAD,CAAWA,GAAG,aAAd,oBAEEhC,GAMA,0BACE,SAACZ,EAAD,CAAWC,QAvER,YACb4C,EAAAA,EAAAA,MACAhC,EAAW,KACZ,EAoEuCX,KAAM,eANpC,SAACF,EAAD,CACEC,QAAS,kBAAMe,GAAN,EACTd,KAAM,+BAWnB,ECtGD,EARoB,WAClB,OACE,0BACE,SAAC,EAAD,KAGL,C","sources":["components/GoogleBtn/GoogleBtn.styled.jsx","components/GoogleBtn/GoogleBtn.jsx","components/Welcome/Welcome.jsx","pages/WelcomePage/WelcomePage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const GoogleBtnCustom = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n\n  padding: 0 20px;\n\n  width: 100%;\n  height: 49px;\n\n  color: #161616;\n  text-align: center;\n  font-family: 'Poppins';\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n  letter-spacing: -0.28px;\n\n  background: #f1f7ed;\n  border-radius: 8px;\n\n  border: none;\n\n  cursor: pointer;\n\n  @media screen and (max-width: 768px) {\n    width: 287px;\n  }\n`;\n","import { GoogleBtnCustom } from './GoogleBtn.styled';\nimport sprite from '../../images/sprite.svg';\n\nexport const GoogleBtn = ({ onClick, text }) => {\n  return (\n    <GoogleBtnCustom type=\"button\" onClick={onClick}>\n      {text}{' '}\n      <svg width=\"28\" height=\"28\" fill=\"#fff\">\n        <use href={`${sprite}#icon-icon-google`} />\n      </svg>\n    </GoogleBtnCustom>\n  );\n};\n","import React from 'react';\nimport icons from '../../images/sprite.svg';\nimport { useState, useEffect } from 'react';\nimport { googleLogout, useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { logIn, register } from '../../redux/auth/operations';\nimport { GoogleBtn } from 'components/GoogleBtn/GoogleBtn';\n\nimport {\n  Container,\n  Wrapper,\n  Logo,\n  LogoWrapper,\n  Icon,\n  Title,\n  Text,\n  AuthWrapper,\n  RegButton,\n  LogButton,\n} from './Welcome.styled';\n\nfunction Welcome() {\n  const [user, setUser] = useState(null);\n  const [profile, setProfile] = useState(null);\n\n  const dispatch = useDispatch();\n\n  const googleLogin = useGoogleLogin({\n    onSuccess: codeResponse => {\n      setUser(codeResponse);\n    },\n    onError: error => console.log('Login Failed:', error),\n  });\n\n  const logOut = () => {\n    googleLogout();\n    setProfile(null);\n  };\n\n  useEffect(() => {\n    if (user) {\n      axios\n        .get(\n          `https://www.googleapis.com/oauth2/v1/userinfo?access_token=${user.access_token}`,\n          {\n            headers: {\n              Authorization: `Bearer ${user.access_token}`,\n              Accept: 'application/json',\n            },\n          }\n        )\n\n        .then(res => {\n          setProfile(res.data);\n          console.log(res.data.email);\n\n          dispatch(\n            register({\n              username: res.data.name,\n              email: res.data.email,\n              password: `${res.data.id}!Taskpro`,\n            })\n          );\n\n          setTimeout(\n            () =>\n              dispatch(\n                logIn({\n                  email: res.data.email,\n                  password: `${res.data.id}!Taskpro`,\n                })\n              ),\n            500\n          );\n        })\n        .catch(err => console.log(err));\n    }\n    // eslint-disable-next-line\n  }, [user]);\n\n  return (\n    <Container>\n      <Wrapper>\n        <Logo />\n        <LogoWrapper>\n          <Icon>\n            <use href={`${icons}#icon-logo`} />\n          </Icon>\n          <Title>TASK PRO</Title>\n        </LogoWrapper>\n        <Text>\n          Supercharge your productivity and take control of your tasks with Task\n          Pro - Don't wait, start achieving your goals now!\n        </Text>\n        <AuthWrapper>\n          <RegButton to=\"auth/register\">Registration</RegButton>\n          <LogButton to=\"auth/login\">Log In</LogButton>\n\n          {!profile ? (\n            <GoogleBtn\n              onClick={() => googleLogin()}\n              text={'Sign in with Google'}\n            ></GoogleBtn>\n          ) : (\n            <div>\n              <GoogleBtn onClick={logOut} text={'Log out'}></GoogleBtn>\n            </div>\n          )}\n        </AuthWrapper>\n      </Wrapper>\n    </Container>\n  );\n}\n\nexport default Welcome;\n","import React from 'react';\nimport Welcome from 'components/Welcome/Welcome';\n\nconst WelcomePage = () => {\n  return (\n    <div>\n      <Welcome />\n    </div>\n  );\n};\n\nexport default WelcomePage;\n"],"names":["GoogleBtnCustom","styled","GoogleBtn","onClick","text","type","width","height","fill","href","sprite","useState","user","setUser","profile","setProfile","dispatch","useDispatch","googleLogin","useGoogleLogin","onSuccess","codeResponse","onError","error","console","log","useEffect","axios","access_token","headers","Authorization","Accept","then","res","data","email","register","username","name","password","id","setTimeout","logIn","catch","err","icons","to","googleLogout"],"sourceRoot":""}